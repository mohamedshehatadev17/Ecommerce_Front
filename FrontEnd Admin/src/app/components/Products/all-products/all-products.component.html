<div class="container-fluid">
    <div class="my-3 text-end d-flex justify-content-around">

        <div class="input-group my-3 w-50">
            <span class="input-group-text btn btn-primary"><i class="bi bi-search"></i></span>
            <input type="text" class="form-control" [(ngModel)]="searchInput" placeholder="Product Name">
        </div>
        <button class="btn btn-outline-primary my-3" data-bs-toggle="modal" data-bs-target="#ProductAdd">Add
            Product</button>
    </div>

    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4 class="card-title text-center"> All Products</h4>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead class=" text-primary">
                            <th>
                                Name
                            </th>
                            <th>
                                Description
                            </th>
                            <th>
                                Price
                            </th>
                            <th class="text-right">
                                Discount
                            </th>
                            <th>
                                After Discount
                            </th>
                            <th>
                                Rate
                            </th>
                            <th class="text-center">
                                Actions
                            </th>
                        </thead>
                        <tbody *ngIf="allProducts; else loadingProducts">
                            <tr *ngFor="let product of filteredProducts">
                                <td>
                                    {{product.name}}
                                </td>
                                <td>
                                    {{product.description}}
                                </td>
                                <td>
                                    {{product.price}} $
                                </td>
                                <td>
                                    {{product.discount*100}} %
                                </td>
                                <td>
                                    {{(product.price *(1-product.discount)).toFixed(2)}} $
                                </td>
                                <td>
                                    {{product.rate}}
                                </td>
                                <td class="text-center">
                                    <i class="bi bi-pencil-square btn border-0 fs-5 text-primary" data-bs-toggle="modal"
                                        data-bs-target="#ProductUpdate" (click)="SelectedUpdate(product)"></i>
                                    <i class="bi bi-x-circle btn border-0 fs-5 text-danger" data-bs-toggle="modal"
                                        data-bs-target="#deleteModal" (click)="SelectedDelete(product)"></i>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <ng-template #loadingProducts>

        <div class="text-center text-secondary fs-4 my-5">
            <div class="spinner-grow" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <div class="spinner-grow" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <div class="spinner-grow" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            Loading...
        </div>
    </ng-template>


    <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content" *ngIf="ProductToDelete">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Confirmation</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Delete Product {{ProductToDelete.name}} ?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal"
                        (click)="DeleteSelectedProduct()">Delete</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="ProductAdd" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5 text-center" id="exampleModalLabel">Add Product</h1>
                    <button type="button" class="btn-close" (click)="clearProductInfo()" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">

                    <form [formGroup]="validFrm" (ngSubmit)="
        addProduct(
          PName.value,
          PDescription.value,
          PPrice.value,
          PDiscount.value,
          PSubCat.value,
          PCat.value
        )
        
      ">
                        <div class="row g-3">
                            <div class="col-md-3 col-sm-12">
                                <label for="PName">Name</label>
                                <input #PName type="text" class="form-control w-100" id="PName" formControlName="PName"
                                    placeholder="Product Name" required />
                                <div class="form-control-feedback" *ngIf="
              validFrm.get('PName')?.hasError('required') &&
              (validFrm.get('PName')?.dirty || validFrm.get('PName')?.touched)
            ">
                                    <p #PName *ngIf="validFrm?.get('PName')?.errors?.['required']" class="text-danger">
                                        this field is required
                                    </p>
                                    <p *ngIf="validFrm?.get('PName')?.errors?.['minlength']" class="text-danger">
                                        Product name must be more than 3 letters
                                    </p>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-12">
                                <label for="PDescription">Description</label>
                                <input #PDescription type="text" class="form-control w-100" id="PDescription"
                                    formControlName="PDescription" placeholder="Description" required />
                                <div class="form-control-feedback" *ngIf="
              validFrm.get('PDescription')?.errors &&
              (validFrm.get('PDescription')?.dirty ||
                validFrm.get('PDescription')?.touched)
            ">
                                    <p *ngIf="validFrm?.get('PDescription')?.errors?.['required']" class="text-danger">
                                        this field is required
                                    </p>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-12">
                                <label for="PPrice">Price</label>
                                <input #PPrice type="number" class="form-control w-100" id="PPrice" name="PPrice"
                                    formControlName="PPrice" min="1" />
                                <div class="form-control-feedback" *ngIf="
              validFrm.get('PPrice')?.errors &&
              (validFrm.get('PPrice')?.dirty || validFrm.get('PPrice')?.touched)
            ">
                                    <p *ngIf="validFrm?.get('PPrice')?.errors?.['required']" class="text-danger">
                                        this field is required
                                    </p>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-12">
                                <label for="PDiscount">Discount</label>
                                <input #PDiscount type="number" class="form-control w-100" id="PDiscount"
                                    name="PDiscount" formControlName="PDiscount" min="0" max="1" step="0.1" />
                                <div class="form-control-feedback" *ngIf="
              validFrm.get('PDiscount')?.errors &&
              (validFrm.get('PDiscount')?.dirty ||
                validFrm.get('PDiscount')?.touched)
            ">
                                    <p *ngIf="validFrm?.get('PDiscount')?.errors?.['required']" class="text-danger">
                                        this field is required
                                    </p>
                                </div>
                            </div>

                            <div class="w-100">
                                <div class="row border p-3 m-3 mb-6">
                                    <div class="col-sm-4">
                                        <div>
                                            <label for="PCat">Categories</label>
                                            <div class="pb-2">
                                                <select [(ngModel)]="selectedParentId"
                                                    (ngModelChange)="onItemSelected()" #PCat name="PCat" id="PCat"
                                                    class="form-select" aria-label="Default select example"
                                                    formControlName="PCat">
                                                    <option *ngFor="let item of ParentCategories" [value]="item.id">
                                                        {{ item.name }}
                                                    </option>
                                                </select>
                                                <div class="form-control-feedback" *ngIf="
                      validFrm.get('PCat')?.errors &&
                      (validFrm.get('PCat')?.dirty ||
                        validFrm.get('PCat')?.touched)
                    ">
                                                    <p *ngIf="validFrm?.get('PCat')?.errors?.['required']"
                                                        class="text-danger">
                                                        this field is required
                                                    </p>
                                                </div>
                                            </div>

                                            <select [(ngModel)]="selectedSubItem" #PSubCat name="PSubCat" id="PSubCat"
                                                class="form-select" aria-label="Default select example"
                                                formControlName="PSubCat">
                                                <option *ngFor="let subItem of SubCategories" [value]="subItem.id">
                                                    {{ subItem.name }}
                                                </option>
                                            </select>
                                            <div class="form-control-feedback" *ngIf="
                    validFrm.get('PSubCat')?.errors &&
                    (validFrm.get('PSubCat')?.dirty ||
                      validFrm.get('PSubCat')?.touched)
                  ">
                                                <p *ngIf="validFrm?.get('PSubCat')?.errors?.['required']"
                                                    class="text-danger">
                                                    this field is required
                                                </p>
                                            </div>
                                        </div>

                                        <div class="my-3 col-sm-12 pt-2">
                                            <label for="Images" lass="form-label">Image</label>
                                            <input class="form-control" accept="image/*" type="file" id="Images" #Images
                                                formControlName="Images" multiple (change)="onFileSelected($event)">
                                            <div *ngIf="imageUrls">
                                                <div *ngFor="let url of imageUrls">
                                                    <img [src]="url" alt="selected Image" />
                                                </div>
                                            </div>
                                            <div class="form-control-feedback" *ngIf="
                      validFrm.get('Images')?.errors &&
                      (validFrm.get('Images')?.dirty ||
                        validFrm.get('Images')?.touched)
                    ">
                                                <p *ngIf="validFrm?.get('Images')?.errors?.['required']"
                                                    class="text-danger">
                                                    this field is required
                                                </p>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-sm-4">
                                        <div class="col-sm-12 p-1">
                                            <label for="Pcolor">Colors</label>
                                            <select #Pcolor name="Pcolor" id="Pcolor" class="form-select"
                                                aria-label="Default select example" [(ngModel)]="color"
                                                formControlName="Pcolor">
                                                <option>Select Color</option>
                                                <option *ngFor="let color of Colors">
                                                    {{ color }}
                                                </option>
                                            </select>
                                            <div class="form-control-feedback" *ngIf="
                    validFrm.get('Pcolor')?.errors &&
                    (validFrm.get('Pcolor')?.dirty ||
                      validFrm.get('Pcolor')?.touched)
                  ">
                                                <p *ngIf="validFrm?.get('Pcolor')?.errors?.['required']"
                                                    class="text-danger">
                                                    this field is required
                                                </p>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 p-1">
                                            <label for="PSize">Sizes</label>
                                            <select #PSize name="PSize" id="PSize" class="form-select"
                                                aria-label="Default select example" [(ngModel)]="size"
                                                formControlName="PSize">
                                                <option>Select Size</option>
                                                <option *ngFor="let size of Sizes">
                                                    {{ size }}
                                                </option>
                                            </select>
                                            <div class="form-control-feedback" *ngIf="
                    validFrm.get('PSize')?.errors &&
                    (validFrm.get('PSize')?.dirty ||
                      validFrm.get('PSize')?.touched)
                  ">
                                                <p *ngIf="validFrm?.get('PSize')?.errors?.['required']"
                                                    class="text-danger">
                                                    this field is required
                                                </p>
                                            </div>
                                        </div>

                                        <div class="col-sm-12 p-1">
                                            <label for="PQuantity">Quantities</label>
                                            <input [(ngModel)]="quantity" #PQuantity type="number"
                                                class="form-control w-100" id="PQuantity" name="PQuantity"
                                                formControlName="PQuantity" min="1" />
                                            <div class="form-control-feedback" *ngIf="
                    validFrm.get('PQuantity')?.errors &&
                    (validFrm.get('PQuantity')?.dirty ||
                      validFrm.get('PQuantity')?.touched)
                  ">
                                                <p *ngIf="validFrm?.get('PQuantity')?.errors?.['required']"
                                                    class="text-danger">
                                                    this field is required
                                                </p>
                                            </div>
                                            <div>
                                                <button
                                                    class="button1 d-flex justify-content-center text-center m-auto mt-3"
                                                    type="button" value="ADD Product Details"
                                                    (click)="AddProductInfo()">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20"
                                                        viewBox="0 0 20 20" height="20" fill="none" class="svg-icon">
                                                        <g stroke-width="1.5" stroke-linecap="round" stroke="#de8a2a">
                                                            <circle r="7.5" cy="10" cx="10"></circle>
                                                            <path d="m9.99998 7.5v5"></path>
                                                            <path d="m7.5 9.99998h5"></path>
                                                        </g>
                                                    </svg>
                                                    <span class="lable">Add</span>
                                                </button>
                                            </div>
                                            <div class="text-danger mt-2 d-flex justify-content-center"
                                                *ngIf="duplicateError">
                                                <p>Color and Size Duplicated</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-4">
                                        <div>
                                            <table
                                                class="table table-bordered container text-center mt-4 m-auto align-middle">
                                                <thead>
                                                    <tr>
                                                        <th>Color</th>
                                                        <th>Size</th>
                                                        <th>Quantity</th>
                                                        <th>Delete</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let p of productInfo; let i = index">
                                                        <td>{{ p.color }}</td>
                                                        <td>{{ p.size }}</td>
                                                        <td>{{ p.quantity }}</td>
                                                        <td>
                                                            <button class="btn">
                                                                <svg viewBox="0 0 15 17.5" height="17.5" width="15"
                                                                    xmlns="http://www.w3.org/2000/svg" class="icon"
                                                                    (click)="deleteProductInfo(i)">
                                                                    <path transform="translate(-2.5 -1.25)"
                                                                        d="M15,18.75H5A1.251,1.251,0,0,1,3.75,17.5V5H2.5V3.75h15V5H16.25V17.5A1.251,1.251,0,0,1,15,18.75ZM5,5V17.5H15V5Zm7.5,10H11.25V7.5H12.5V15ZM8.75,15H7.5V7.5H8.75V15ZM12.5,2.5h-5V1.25h5V2.5Z"
                                                                        id="Fill"></path>
                                                                </svg>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="d-flex justify-content-center mt-3 text-center m-auto">
                                    <button type="submit" class="button" >
                                        <span class="button__text">Add Product</span>
                                        <span class="button__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                viewBox="0 0 24 24" stroke-width="2" stroke-linejoin="round"
                                                stroke-linecap="round" stroke="currentColor" height="24" fill="none"
                                                class="svg">
                                                <line y2="19" y1="5" x2="12" x1="12"></line>
                                                <line y2="12" y1="12" x2="19" x1="5"></line>
                                            </svg></span>
                                    </button>
                                </div>
                                <div class="text-danger mt-2 d-flex justify-content-center"
                                    *ngIf="validFrm.invalid && validFrm.touched && !isSuccess">
                                    Please fill in all the required fields.
                                </div>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </div>

    </div>





    <div class="modal fade" id="ProductUpdate" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5 text-center" id="exampleModalLabel">Update Product</h1>
                    <button type="button" class="btn-close" (click)="clearProductInfo()" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body" *ngIf="productFromDb">


                    <form [formGroup]="UvalidFrm" (ngSubmit)="
                UpdateProduct(
                    uName.value,
                    uDescription.value,
                    uPrice.value,
                    uDiscount.value,
                    uSubCat.value,
          uCat.value
        )
        
      ">
                        <div class="row g-3">
                            <div class="col-md-3 col-sm-12">
                                <label for="uName">Name</label>
                                <input #uName type="text" class="form-control w-100" id="uName" formControlName="uName"
                                    placeholder="Product Name" required [(ngModel)]="productFromDb.name" />
                                <div class="form-control-feedback" *ngIf="
                                UvalidFrm.get('uName')?.hasError('required') &&
              (UvalidFrm.get('uName')?.dirty || UvalidFrm.get('uName')?.touched)
            ">
                                    <p #uName *ngIf="UvalidFrm?.get('uName')?.errors?.['required']" class="text-danger">
                                        this field is required
                                    </p>
                                    <p *ngIf="UvalidFrm?.get('uName')?.errors?.['minlength']" class="text-danger">
                                        Product name must be more than 3 letters
                                    </p>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-12">
                                <label for="uDescription">Description</label>
                                <input #uDescription type="text" class="form-control w-100" id="uDescription"
                                    [(ngModel)]="productFromDb.description" formControlName="uDescription"
                                    placeholder="Description" required />
                                <div class="form-control-feedback" *ngIf="
                                UvalidFrm.get('uDescription')?.errors &&
              (UvalidFrm.get('uDescription')?.dirty ||
              UvalidFrm.get('uDescription')?.touched)
            ">
                                    <p *ngIf="UvalidFrm?.get('uDescription')?.errors?.['required']" class="text-danger">
                                        this field is required
                                    </p>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-12">
                                <label for="uPrice">Price</label>
                                <input #uPrice type="number" class="form-control w-100" id="uPrice" name="uPrice"
                                    [(ngModel)]="productFromDb.price" formControlName="uPrice" min="1" />
                                <div class="form-control-feedback" *ngIf="
                                UvalidFrm.get('uPrice')?.errors &&
              (UvalidFrm.get('uPrice')?.dirty || UvalidFrm.get('uPrice')?.touched)
            ">
                                    <p *ngIf="UvalidFrm?.get('uPrice')?.errors?.['required']" class="text-danger">
                                        this field is required
                                    </p>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-12">
                                <label for="uDiscount">Discount</label>
                                <input #uDiscount type="number" class="form-control w-100" id="uDiscount"
                                    [(ngModel)]="productFromDb.discount" name="uDiscount" formControlName="uDiscount"
                                    min="0" max="1" step="0.1" />
                                <div class="form-control-feedback" *ngIf="
                                UvalidFrm.get('uDiscount')?.errors &&
              (UvalidFrm.get('uDiscount')?.dirty ||
              UvalidFrm.get('uDiscount')?.touched)
            ">
                                    <p *ngIf="UvalidFrm?.get('uDiscount')?.errors?.['required']" class="text-danger">
                                        this field is required
                                    </p>
                                </div>
                            </div>

                            <div class="w-100">
                                <div class="row border p-3 m-3 mb-6">
                                    <div class="col-sm-4">
                                        <div>
                                            <label for="uCat">Categories</label>
                                            <div class="pb-2">
                                                <select [(ngModel)]="selectedParentId"
                                                    (ngModelChange)="onItemSelected()" #uCat name="uCat" id="uCat"
                                                    class="form-select" aria-label="Default select example"
                                                    formControlName="uCat">
                                                    <option *ngFor="let item of ParentCategories" [value]="item.id">
                                                        {{ item.name }}
                                                    </option>
                                                </select>
                                                <div class="form-control-feedback" *ngIf="
                                                UvalidFrm.get('uCat')?.errors &&
                      (UvalidFrm.get('uCat')?.dirty ||
                      UvalidFrm.get('uCat')?.touched)
                    ">
                                                    <p *ngIf="UvalidFrm?.get('uCat')?.errors?.['required']"
                                                        class="text-danger">
                                                        this field is required
                                                    </p>
                                                </div>
                                            </div>

                                            <select [(ngModel)]="selectedSubItem" #uSubCat name="uSubCat" id="uSubCat"
                                                class="form-select" aria-label="Default select example"
                                                formControlName="uSubCat">
                                                <option *ngFor="let subItem of SubCategories" [value]="subItem.id">
                                                    {{ subItem.name }}
                                                </option>
                                            </select>
                                            <div class="form-control-feedback" *ngIf="
                                            UvalidFrm.get('uSubCat')?.errors &&
                    (UvalidFrm.get('uSubCat')?.dirty ||
                    UvalidFrm.get('uSubCat')?.touched)
                  ">
                                                <p *ngIf="UvalidFrm?.get('uSubCat')?.errors?.['required']"
                                                    class="text-danger">
                                                    this field is required
                                                </p>
                                            </div>
                                        </div>

                                        <div class="my-3 col-sm-12 pt-2">
                                            <label for="uIMGS" lass="form-label">Image</label>
                                            <input class="form-control" accept="image/*" type="file" id="uIMGS" #uIMGS
                                                formControlName="uIMGS" multiple (change)="onFileSelected($event)">
                                            <div *ngIf="imageUrls">
                                                <div *ngFor="let url of imageUrls">
                                                    <img [src]="url" alt="selected Image" />
                                                </div>
                                            </div>
                                            <div class="form-control-feedback" *ngIf="
                                            UvalidFrm.get('uIMGS')?.errors &&
                      (UvalidFrm.get('uIMGS')?.dirty ||
                      UvalidFrm.get('uIMGS')?.touched)
                    ">
                                                <p *ngIf="UvalidFrm?.get('uIMGS')?.errors?.['required']"
                                                    class="text-danger">
                                                    this field is required
                                                </p>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-sm-4">
                                        <div class="col-sm-12 p-1">
                                            <label for="ucolor">Colors</label>
                                            <select #ucolor name="ucolor" id="ucolor" class="form-select"
                                                aria-label="Default select example" [(ngModel)]="color"
                                                formControlName="ucolor">
                                                <option>Select Color</option>
                                                <option *ngFor="let color of Colors">
                                                    {{ color }}
                                                </option>
                                            </select>
                                            <div class="form-control-feedback" *ngIf="
                                            UvalidFrm.get('ucolor')?.errors &&
                    (UvalidFrm.get('ucolor')?.dirty ||
                    UvalidFrm.get('ucolor')?.touched)
                  ">
                                                <p *ngIf="UvalidFrm?.get('ucolor')?.errors?.['required']"
                                                    class="text-danger">
                                                    this field is required
                                                </p>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 p-1">
                                            <label for="uSize">Sizes</label>
                                            <select #uSize name="uSize" id="uSize" class="form-select"
                                                aria-label="Default select example" [(ngModel)]="size"
                                                formControlName="uSize">
                                                <option>Select Size</option>
                                                <option *ngFor="let size of Sizes">
                                                    {{ size }}
                                                </option>
                                            </select>
                                            <div class="form-control-feedback" *ngIf="
                                            UvalidFrm.get('uSize')?.errors &&
                    (UvalidFrm.get('uSize')?.dirty ||
                    UvalidFrm.get('uSize')?.touched)
                  ">
                                                <p *ngIf="UvalidFrm?.get('uSize')?.errors?.['required']"
                                                    class="text-danger">
                                                    this field is required
                                                </p>
                                            </div>
                                        </div>

                                        <div class="col-sm-12 p-1">
                                            <label for="uQuantity">Quantities</label>
                                            <input [(ngModel)]="quantity" #uQuantity type="number"
                                                class="form-control w-100" id="uQuantity" name="uQuantity"
                                                formControlName="uQuantity" min="1" />
                                            <div class="form-control-feedback" *ngIf="
                                            UvalidFrm.get('uQuantity')?.errors &&
                    (UvalidFrm.get('uQuantity')?.dirty ||
                    UvalidFrm.get('uQuantity')?.touched)
                  ">
                                                <p *ngIf="UvalidFrm?.get('uQuantity')?.errors?.['required']"
                                                    class="text-danger">
                                                    this field is required
                                                </p>
                                            </div>
                                            <div>
                                                <button
                                                    class="button1 d-flex justify-content-center text-center m-auto mt-3"
                                                    type="button" value="ADD Product Details"
                                                    (click)="AddProductInfo()">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20"
                                                        viewBox="0 0 20 20" height="20" fill="none" class="svg-icon">
                                                        <g stroke-width="1.5" stroke-linecap="round" stroke="#de8a2a">
                                                            <circle r="7.5" cy="10" cx="10"></circle>
                                                            <path d="m9.99998 7.5v5"></path>
                                                            <path d="m7.5 9.99998h5"></path>
                                                        </g>
                                                    </svg>
                                                    <span class="lable">Add</span>
                                                </button>
                                            </div>
                                            <div class="text-danger mt-2 d-flex justify-content-center"
                                                *ngIf="duplicateError">
                                                <p>Color and Size Duplicated</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-4">
                                        <div>
                                            <table
                                                class="table table-bordered container text-center mt-4 m-auto align-middle">
                                                <thead>
                                                    <tr>
                                                        <th>Color</th>
                                                        <th>Size</th>
                                                        <th>Quantity</th>
                                                        <th>Delete</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let p of productInfo; let i = index">
                                                        <td>{{ p.color }}</td>
                                                        <td>{{ p.size }}</td>
                                                        <td>{{ p.quantity }}</td>
                                                        <td>
                                                            <button class="btn">
                                                                <svg viewBox="0 0 15 17.5" height="17.5" width="15"
                                                                    xmlns="http://www.w3.org/2000/svg" class="icon"
                                                                    (click)="deleteProductInfo(i)">
                                                                    <path transform="translate(-2.5 -1.25)"
                                                                        d="M15,18.75H5A1.251,1.251,0,0,1,3.75,17.5V5H2.5V3.75h15V5H16.25V17.5A1.251,1.251,0,0,1,15,18.75ZM5,5V17.5H15V5Zm7.5,10H11.25V7.5H12.5V15ZM8.75,15H7.5V7.5H8.75V15ZM12.5,2.5h-5V1.25h5V2.5Z"
                                                                        id="Fill"></path>
                                                                </svg>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="d-flex justify-content-center mt-3 text-center m-auto">
                                    <button type="submit" class="button">
                                        <span class="button__text">Update Product</span>
                                        <span class="button__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                viewBox="0 0 24 24" stroke-width="2" stroke-linejoin="round"
                                                stroke-linecap="round" stroke="currentColor" height="24" fill="none"
                                                class="svg">
                                                <line y2="19" y1="5" x2="12" x1="12"></line>
                                                <line y2="12" y1="12" x2="19" x1="5"></line>
                                            </svg></span>
                                    </button>
                                </div>
                                <div class="text-danger mt-2 d-flex justify-content-center"
                                    *ngIf="UvalidFrm.invalid && UvalidFrm.touched && !isSuccess">
                                    Please fill in all the required fields.
                                </div>
                            </div>
                        </div>
                    </form>


                </div>
            </div>
        </div>

    </div>